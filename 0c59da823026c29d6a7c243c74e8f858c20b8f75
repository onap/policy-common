{
  "comments": [
    {
      "key": {
        "uuid": "90eecab6_0d5c4a50",
        "filename": "policy-endpoints/src/main/java/org/onap/policy/common/endpoints/event/comm/bus/internal/SingleThreadedBusTopicSource.java",
        "patchSetId": 4
      },
      "lineNbr": 180,
      "author": {
        "id": 477
      },
      "writtenOn": "2019-02-05T19:03:37Z",
      "side": 0,
      "message": "Not sure about this one, in the unlikely case that stop() synchronized block fits right between 180 before 182, before the scheduler retuns to this thread to continue online 182, I think it is ok to return false, as there would be no consumer underneath (closed in stop), the operation failed if you will.",
      "revId": "0c59da823026c29d6a7c243c74e8f858c20b8f75",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "74f53447_ef86c221",
        "filename": "policy-endpoints/src/main/java/org/onap/policy/common/endpoints/event/comm/bus/internal/SingleThreadedBusTopicSource.java",
        "patchSetId": 4
      },
      "lineNbr": 180,
      "author": {
        "id": 4965
      },
      "writtenOn": "2019-02-05T19:18:01Z",
      "side": 0,
      "message": "I would disagree here as the result says only if we managed to start the thread not if it\u0027s running at the time that we return from this function.\n\nThere is no way to assign the later definition as any code that would try to use it without taking this synchronized block would have a race condition by design.\n\nI would even say that because we are throwing exceptions whenever anything goes wrong in this function the return value is redundant but I didn\u0027t wanted to change the API here as I wasn\u0027t sure about that",
      "parentUuid": "90eecab6_0d5c4a50",
      "revId": "0c59da823026c29d6a7c243c74e8f858c20b8f75",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c181e5ad_18b358b5",
        "filename": "policy-endpoints/src/main/java/org/onap/policy/common/endpoints/event/comm/bus/internal/SingleThreadedBusTopicSource.java",
        "patchSetId": 4
      },
      "lineNbr": 180,
      "author": {
        "id": 477
      },
      "writtenOn": "2019-02-05T20:22:47Z",
      "side": 0,
      "message": "Yes, there is no much point in the return value in the method signature, but that would be a discussion independent of this one, as it\u0027s using a generic interface.\n\nNevertheless, the focus here is the scenario described in the review description.  At the point of method return, success is returned, but in reality there is no consumer object underneath, and that\u0027s very iffy to claim that it\u0027s correct, just focusing on thread creation aspect (which is pretty trivial unless jvm or os memory issues).\n\nSimpler solution is to move the \"return result\" within the synchronized block, that would be best.    Actually, you don\u0027t need a local variable.",
      "parentUuid": "74f53447_ef86c221",
      "revId": "0c59da823026c29d6a7c243c74e8f858c20b8f75",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    }
  ]
}